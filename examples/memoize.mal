;; Benchmarks for memoize.mal

(load-file "../lib/heavy_computations.mal") ; fib
(load-file "../lib/memoize.mal")            ; memoize
(load-file "../lib/perf.mal")               ; time

(def! N 32)

;; Benchmark naive 'fib'

(println "fib N=" N ": without memoization:")
(time (fib N))
;; "Elapsed time: 14402 msecs"


;; Benchmark memoized 'fib'

(def! fib (memoize fib))

(println "fib N=" N ": with memoization:")
(time (fib N))
;; "Elapsed time: 1 msecs"
